---
import BaseLayout from './BaseLayout.astro';

interface Props {
  frontmatter: {
    title: string;
    description: string;
    pubDate: string;
    tags?: string[];
  };
}

const { frontmatter } = Astro.props;
const formattedDate = new Date(frontmatter.pubDate).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<BaseLayout title={frontmatter.title} description={frontmatter.description}>
  <article>
    <div class="mb-8">
      <h1 class="text-3xl font-bold mb-3 text-[var(--color-base-content)]">{frontmatter.title}</h1>
      <div class="flex items-center mb-3 gap-4 text-[var(--color-muted)] text-sm">
        <time datetime={frontmatter.pubDate}>{formattedDate}</time>
      </div>
        {frontmatter.tags && frontmatter.tags.length > 0 && (
          <div class="flex gap-3">
            {frontmatter.tags.map((tag) => (
              <span class="text-[var(--color-success)] text-xs bg-gray-800 px-2 py-1 rounded font-bold opacity-80">#{tag}</span>
            ))}
          </div>
        )}
    </div>

    <div class="prose max-w-none border-l-4 border-[var(--color-success)] pl-6">
      <slot />
    </div>
  </article>

  <div class="mt-12 pt-8">
    <a href="/" class="text-[var(--color-success)] hover:underline text-sm">‚Üê back to all posts</a>
  </div>
</BaseLayout>

<style is:global>
  .prose {
    color: var(--color-base-content);
  }

  .prose h1{
    color: var(--color-success)
  }

  .prose h2 {
    margin-top: 2em;
    margin-bottom: 1em;
    font-weight: 700;
    font-size: 1.5em;
    color: var(--color-success);
  }

  .prose h3 {
    margin-top: 1.6em;
    margin-bottom: 0.6em;
    font-weight: 600;
    font-size: 1.25em;
    color: var(--color-base-content);
  }

  .prose p {
    margin-bottom: 1.25em;
    line-height: 1.75;
  }

  .prose code {
    background-color: var(--color-base-200);
    color: var(--color-info);
    padding: 0.2em 0.4em;
    border-radius: 0.25rem;
    font-size: 0.875em;
    font-weight: 600;
  }

  .prose pre {
    background-color: var(--color-base-200);
    border: 1px solid var(--color-base-300);
    border-radius: 0.5rem;
    padding: 1rem;
    overflow-x: auto;
    margin: 1.5em 0;
  }

  .prose pre code {
    background-color: transparent;
    padding: 0;
    border-radius: 0;
    font-size: 0.875em;
    color: var(--color-base-content);
  }

  .prose a {
    color: var(--color-success);
    text-decoration: none;
  }

  .prose a:hover {
    text-decoration: underline;
  }

  .prose blockquote {
    border-left: 4px solid var(--color-success);
    padding-left: 1rem;
    font-style: italic;
    color: var(--color-muted);
    margin: 1.5em 0;
  }

  .prose ul, .prose ol {
    padding-left: 1.5rem;
    margin: 1em 0;
  }

  .prose li {
    margin: 0.5em 0;
  }

  .prose strong {
    color: var(--color-success);
    font-weight: 600;
  }

  .prose img {
    border-radius: 0.5rem;
    margin: 2rem 0;
    border: 1px solid var(--color-base-300);
  }
